import{P as aa,c as zt,m as Ct,f as Le,B as ra,a as pt,b as oe,d as na,S as fe,R as ia,e as mt,T as oa,g as Rt,l as sa,h as se,i as bt,j as va,k as Y,n as _t,o as Xt,p as Dt,D as ce,q as he,r as la,s as ua,t as da,u as ge,v as z,w as $e,x as fa,y as ca,z as ha,A as ga,C as pa,E as ma,F as ya,G as Ia,H as wa,I as Ma,J as Sa,K as Ta,L as Ea,M as xa,N as Ca,O as ba,Q as _a,U as Da,V as Oa,W as Ra,X as Aa,Y as Pa,Z as za,_ as Ga,$ as La,a0 as $a,a1 as Fa,a2 as ka,a3 as Wa,a4 as Na,a5 as qa,a6 as Ua,a7 as Ha,a8 as ja,a9 as Xa,aa as Za,ab as Va,ac as Ya,ad as Ba,ae as Ja,af as Qa,ag as Ka,ah as tr,ai as er,aj as ar,ak as rr,al as nr,am as ir,an as Fe,ao as ke,ap as or,aq as sr,ar as vr,as as lr,at as We,au as ur,av as dr,aw as fr,ax as cr,ay as hr,az as gr,aA as pr,aB as mr,aC as yr,aD as Ir,aE as wr,aF as Ne,aG as Mr,aH as Sr,aI as qe,aJ as Tr,aK as Er,aL as xr,aM as Cr,aN as br,aO as _r,aP as Dr,aQ as Or,aR as Rr,aS as Ar,aT as Pr,aU as pe,aV as zr,aW as Gr,aX as Ue,aY as Lr,aZ as $r,a_ as Fr,a$ as kr,b0 as Wr,b1 as He,b2 as Nr,b3 as qr,b4 as Ur,b5 as Hr,b6 as jr,b7 as Xr,b8 as Zr,b9 as Vr,ba as Yr,bb as Br,bc as Jr,bd as Qr,be as Kr,bf as tn,bg as je,bh as me,bi as en,bj as Zt,bk as ye,bl as an,bm as rn,bn as Vt,bo as nn,bp as on,bq as sn,br as vn}from"./echarts-core-Bh9aeJZa.js";import{g as ln,R as un,r as dn}from"./react-vendor-DUO9BnQs.js";var it=aa.CMD;function Et(r,t){return Math.abs(r-t)<1e-5}function te(r){var t=r.data,a=r.len(),n=[],e,o=0,s=0,i=0,l=0;function v(U,H){e&&e.length>2&&n.push(e),e=[U,H]}function d(U,H,J,q){Et(U,J)&&Et(H,q)||e.push(U,H,J,q,J,q)}function u(U,H,J,q,tt,et){var ct=Math.abs(H-U),nt=Math.tan(ct/4)*4/3,st=H<U?-1:1,lt=Math.cos(U),At=Math.sin(U),A=Math.cos(H),h=Math.sin(H),S=lt*tt+J,T=At*et+q,O=A*tt+J,C=h*et+q,R=tt*nt*st,W=et*nt*st;e.push(S-R*At,T+W*lt,O+R*h,C-W*A,O,C)}for(var f,c,m,p,g=0;g<a;){var E=t[g++],_=g===1;switch(_&&(o=t[g],s=t[g+1],i=o,l=s,(E===it.L||E===it.C||E===it.Q)&&(e=[i,l])),E){case it.M:o=i=t[g++],s=l=t[g++],v(i,l);break;case it.L:f=t[g++],c=t[g++],d(o,s,f,c),o=f,s=c;break;case it.C:e.push(t[g++],t[g++],t[g++],t[g++],o=t[g++],s=t[g++]);break;case it.Q:f=t[g++],c=t[g++],m=t[g++],p=t[g++],e.push(o+2/3*(f-o),s+2/3*(c-s),m+2/3*(f-m),p+2/3*(c-p),m,p),o=m,s=p;break;case it.A:var y=t[g++],D=t[g++],I=t[g++],w=t[g++],x=t[g++],b=t[g++]+x;g+=1;var M=!t[g++];f=Math.cos(x)*I+y,c=Math.sin(x)*w+D,_?(i=f,l=c,v(i,l)):d(o,s,f,c),o=Math.cos(b)*I+y,s=Math.sin(b)*w+D;for(var P=(M?-1:1)*Math.PI/2,B=x;M?B>b:B<b;B+=P){var Q=M?Math.max(B+P,b):Math.min(B+P,b);u(B,Q,y,D,I,w)}break;case it.R:i=o=t[g++],l=s=t[g++],f=i+t[g++],c=l+t[g++],v(f,l),d(f,l,f,c),d(f,c,i,c),d(i,c,i,l),d(i,l,f,l);break;case it.Z:e&&d(o,s,i,l),o=i,s=l;break}}return e&&e.length>2&&n.push(e),n}function ee(r,t,a,n,e,o,s,i,l,v){if(Et(r,a)&&Et(t,n)&&Et(e,s)&&Et(o,i)){l.push(s,i);return}var d=2/v,u=d*d,f=s-r,c=i-t,m=Math.sqrt(f*f+c*c);f/=m,c/=m;var p=a-r,g=n-t,E=e-s,_=o-i,y=p*p+g*g,D=E*E+_*_;if(y<u&&D<u){l.push(s,i);return}var I=f*p+c*g,w=-f*E-c*_,x=y-I*I,b=D-w*w;if(x<u&&I>=0&&b<u&&w>=0){l.push(s,i);return}var M=[],P=[];zt(r,a,e,s,.5,M),zt(t,n,o,i,.5,P),ee(M[0],P[0],M[1],P[1],M[2],P[2],M[3],P[3],l,v),ee(M[4],P[4],M[5],P[5],M[6],P[6],M[7],P[7],l,v)}function fn(r,t){var a=te(r),n=[];t=t||1;for(var e=0;e<a.length;e++){var o=a[e],s=[],i=o[0],l=o[1];s.push(i,l);for(var v=2;v<o.length;){var d=o[v++],u=o[v++],f=o[v++],c=o[v++],m=o[v++],p=o[v++];ee(i,l,d,u,f,c,m,p,s,t),i=m,l=p}n.push(s)}return n}function Xe(r,t,a){var n=r[t],e=r[1-t],o=Math.abs(n/e),s=Math.ceil(Math.sqrt(o*a)),i=Math.floor(a/s);i===0&&(i=1,s=a);for(var l=[],v=0;v<s;v++)l.push(i);var d=s*i,u=a-d;if(u>0)for(var v=0;v<u;v++)l[v%s]+=1;return l}function Ie(r,t,a){for(var n=r.r0,e=r.r,o=r.startAngle,s=r.endAngle,i=Math.abs(s-o),l=i*e,v=e-n,d=l>Math.abs(v),u=Xe([l,v],d?0:1,t),f=(d?i:v)/u.length,c=0;c<u.length;c++)for(var m=(d?v:i)/u[c],p=0;p<u[c];p++){var g={};d?(g.startAngle=o+f*c,g.endAngle=o+f*(c+1),g.r0=n+m*p,g.r=n+m*(p+1)):(g.startAngle=o+m*p,g.endAngle=o+m*(p+1),g.r0=n+f*c,g.r=n+f*(c+1)),g.clockwise=r.clockwise,g.cx=r.cx,g.cy=r.cy,a.push(g)}}function cn(r,t,a){for(var n=r.width,e=r.height,o=n>e,s=Xe([n,e],o?0:1,t),i=o?"width":"height",l=o?"height":"width",v=o?"x":"y",d=o?"y":"x",u=r[i]/s.length,f=0;f<s.length;f++)for(var c=r[l]/s[f],m=0;m<s[f];m++){var p={};p[v]=f*u,p[d]=m*c,p[i]=u,p[l]=c,p.x+=r.x,p.y+=r.y,a.push(p)}}function we(r,t,a,n){return r*n-a*t}function hn(r,t,a,n,e,o,s,i){var l=a-r,v=n-t,d=s-e,u=i-o,f=we(d,u,l,v);if(Math.abs(f)<1e-6)return null;var c=r-e,m=t-o,p=we(c,m,d,u)/f;return p<0||p>1?null:new pt(p*l+r,p*v+t)}function gn(r,t,a){var n=new pt;pt.sub(n,a,t),n.normalize();var e=new pt;pt.sub(e,r,t);var o=e.dot(n);return o}function wt(r,t){var a=r[r.length-1];a&&a[0]===t[0]&&a[1]===t[1]||r.push(t)}function pn(r,t,a){for(var n=r.length,e=[],o=0;o<n;o++){var s=r[o],i=r[(o+1)%n],l=hn(s[0],s[1],i[0],i[1],t.x,t.y,a.x,a.y);l&&e.push({projPt:gn(l,t,a),pt:l,idx:o})}if(e.length<2)return[{points:r},{points:r}];e.sort(function(g,E){return g.projPt-E.projPt});var v=e[0],d=e[e.length-1];if(d.idx<v.idx){var u=v;v=d,d=u}for(var f=[v.pt.x,v.pt.y],c=[d.pt.x,d.pt.y],m=[f],p=[c],o=v.idx+1;o<=d.idx;o++)wt(m,r[o].slice());wt(m,c),wt(m,f);for(var o=d.idx+1;o<=v.idx+n;o++)wt(p,r[o%n].slice());return wt(p,f),wt(p,c),[{points:m},{points:p}]}function Me(r){var t=r.points,a=[],n=[];Le(t,a,n);var e=new ra(a[0],a[1],n[0]-a[0],n[1]-a[1]),o=e.width,s=e.height,i=e.x,l=e.y,v=new pt,d=new pt;return o>s?(v.x=d.x=i+o/2,v.y=l,d.y=l+s):(v.y=d.y=l+s/2,v.x=i,d.x=i+o),pn(t,v,d)}function Gt(r,t,a,n){if(a===1)n.push(t);else{var e=Math.floor(a/2),o=r(t);Gt(r,o[0],e,n),Gt(r,o[1],a-e,n)}return n}function mn(r,t){for(var a=[],n=0;n<t;n++)a.push(oe(r));return a}function yn(r,t){t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel}function In(r){for(var t=[],a=0;a<r.length;)t.push([r[a++],r[a++]]);return t}function wn(r,t){var a=[],n=r.shape,e;switch(r.type){case"rect":cn(n,t,a),e=ia;break;case"sector":Ie(n,t,a),e=fe;break;case"circle":Ie({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},t,a),e=fe;break;default:var o=r.getComputedTransform(),s=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,i=Ct(fn(r.getUpdatedPathProxy(),s),function(E){return In(E)}),l=i.length;if(l===0)Gt(Me,{points:i[0]},t,a);else if(l===t)for(var v=0;v<l;v++)a.push({points:i[v]});else{var d=0,u=Ct(i,function(E){var _=[],y=[];Le(E,_,y);var D=(y[1]-_[1])*(y[0]-_[0]);return d+=D,{poly:E,area:D}});u.sort(function(E,_){return _.area-E.area});for(var f=t,v=0;v<l;v++){var c=u[v];if(f<=0)break;var m=v===l-1?f:Math.ceil(c.area/d*t);m<0||(Gt(Me,{points:c.poly},m,a),f-=m)}}e=na;break}if(!e)return mn(r,t);for(var p=[],v=0;v<a.length;v++){var g=new e;g.setShape(a[v]),yn(r,g),p.push(g)}return p}function Mn(r,t){var a=r.length,n=t.length;if(a===n)return[r,t];for(var e=[],o=[],s=a<n?r:t,i=Math.min(a,n),l=Math.abs(n-a)/6,v=(i-2)/6,d=Math.ceil(l/v)+1,u=[s[0],s[1]],f=l,c=2;c<i;){var m=s[c-2],p=s[c-1],g=s[c++],E=s[c++],_=s[c++],y=s[c++],D=s[c++],I=s[c++];if(f<=0){u.push(g,E,_,y,D,I);continue}for(var w=Math.min(f,d-1)+1,x=1;x<=w;x++){var b=x/w;zt(m,g,_,D,b,e),zt(p,E,y,I,b,o),m=e[3],p=o[3],u.push(e[1],o[1],e[2],o[2],m,p),g=e[5],E=o[5],_=e[6],y=o[6]}f-=w-1}return s===r?[u,t]:[r,u]}function Se(r,t){for(var a=r.length,n=r[a-2],e=r[a-1],o=[],s=0;s<t.length;)o[s++]=n,o[s++]=e;return o}function Sn(r,t){for(var a,n,e,o=[],s=[],i=0;i<Math.max(r.length,t.length);i++){var l=r[i],v=t[i],d=void 0,u=void 0;l?v?(a=Mn(l,v),d=a[0],u=a[1],n=d,e=u):(u=Se(e||l,l),d=l):(d=Se(n||v,v),u=v),o.push(d),s.push(u)}return[o,s]}function Te(r){for(var t=0,a=0,n=0,e=r.length,o=0,s=e-2;o<e;s=o,o+=2){var i=r[s],l=r[s+1],v=r[o],d=r[o+1],u=i*d-v*l;t+=u,a+=(i+v)*u,n+=(l+d)*u}return t===0?[r[0]||0,r[1]||0]:[a/t/3,n/t/3,t]}function Tn(r,t,a,n){for(var e=(r.length-2)/6,o=1/0,s=0,i=r.length,l=i-2,v=0;v<e;v++){for(var d=v*6,u=0,f=0;f<i;f+=2){var c=f===0?d:(d+f-2)%l+2,m=r[c]-a[0],p=r[c+1]-a[1],g=t[f]-n[0],E=t[f+1]-n[1],_=g-m,y=E-p;u+=_*_+y*y}u<o&&(o=u,s=v)}return s}function En(r){for(var t=[],a=r.length,n=0;n<a;n+=2)t[n]=r[a-n-2],t[n+1]=r[a-n-1];return t}function xn(r,t,a,n){for(var e=[],o,s=0;s<r.length;s++){var i=r[s],l=t[s],v=Te(i),d=Te(l);o==null&&(o=v[2]<0!=d[2]<0);var u=[],f=[],c=0,m=1/0,p=[],g=i.length;o&&(i=En(i));for(var E=Tn(i,l,v,d)*6,_=g-2,y=0;y<_;y+=2){var D=(E+y)%_+2;u[y+2]=i[D]-v[0],u[y+3]=i[D+1]-v[1]}u[0]=i[E]-v[0],u[1]=i[E+1]-v[1];for(var I=n/a,w=-n/2;w<=n/2;w+=I){for(var x=Math.sin(w),b=Math.cos(w),M=0,y=0;y<i.length;y+=2){var P=u[y],B=u[y+1],Q=l[y]-d[0],U=l[y+1]-d[1],H=Q*b-U*x,J=Q*x+U*b;p[y]=H,p[y+1]=J;var q=H-P,tt=J-B;M+=q*q+tt*tt}if(M<m){m=M,c=w;for(var et=0;et<p.length;et++)f[et]=p[et]}}e.push({from:u,to:f,fromCp:v,toCp:d,rotation:-c})}return e}function Lt(r){return r.__isCombineMorphing}var Ze="__mOriginal_";function $t(r,t,a){var n=Ze+t,e=r[n]||r[t];r[n]||(r[n]=r[t]);var o=a.replace,s=a.after,i=a.before;r[t]=function(){var l=arguments,v;return i&&i.apply(this,l),o?v=o.apply(this,l):v=e.apply(this,l),s&&s.apply(this,l),v}}function Ot(r,t){var a=Ze+t;r[a]&&(r[t]=r[a],r[a]=null)}function Ee(r,t){for(var a=0;a<r.length;a++)for(var n=r[a],e=0;e<n.length;){var o=n[e],s=n[e+1];n[e++]=t[0]*o+t[2]*s+t[4],n[e++]=t[1]*o+t[3]*s+t[5]}}function Ve(r,t){var a=r.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),e=Sn(te(a),te(n)),o=e[0],s=e[1],i=r.getComputedTransform(),l=t.getComputedTransform();function v(){this.transform=null}i&&Ee(o,i),l&&Ee(s,l),$t(t,"updateTransform",{replace:v}),t.transform=null;var d=xn(o,s,10,Math.PI),u=[];$t(t,"buildPath",{replace:function(f){for(var c=t.__morphT,m=1-c,p=[],g=0;g<d.length;g++){var E=d[g],_=E.from,y=E.to,D=E.rotation*c,I=E.fromCp,w=E.toCp,x=Math.sin(D),b=Math.cos(D);sa(p,I,w,c);for(var M=0;M<_.length;M+=2){var P=_[M],B=_[M+1],Q=y[M],U=y[M+1],H=P*m+Q*c,J=B*m+U*c;u[M]=H*b-J*x+p[0],u[M+1]=H*x+J*b+p[1]}var q=u[0],tt=u[1];f.moveTo(q,tt);for(var M=2;M<_.length;){var Q=u[M++],U=u[M++],et=u[M++],ct=u[M++],nt=u[M++],st=u[M++];q===Q&&tt===U&&et===nt&&ct===st?f.lineTo(nt,st):f.bezierCurveTo(Q,U,et,ct,nt,st),q=nt,tt=st}}}})}function ve(r,t,a){if(!r||!t)return t;var n=a.done,e=a.during;Ve(r,t),t.__morphT=0;function o(){Ot(t,"buildPath"),Ot(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},mt({during:function(s){t.dirtyShape(),e&&e(s)},done:function(){o(),n&&n()}},a)),t}function Cn(r,t,a,n,e,o){var s=16;r=e===a?0:Math.round(32767*(r-a)/(e-a)),t=o===n?0:Math.round(32767*(t-n)/(o-n));for(var i=0,l,v=(1<<s)/2;v>0;v/=2){var d=0,u=0;(r&v)>0&&(d=1),(t&v)>0&&(u=1),i+=v*v*(3*d^u),u===0&&(d===1&&(r=v-1-r,t=v-1-t),l=r,r=t,t=l)}return i}function Ft(r){var t=1/0,a=1/0,n=-1/0,e=-1/0,o=Ct(r,function(i){var l=i.getBoundingRect(),v=i.getComputedTransform(),d=l.x+l.width/2+(v?v[4]:0),u=l.y+l.height/2+(v?v[5]:0);return t=Math.min(d,t),a=Math.min(u,a),n=Math.max(d,n),e=Math.max(u,e),[d,u]}),s=Ct(o,function(i,l){return{cp:i,z:Cn(i[0],i[1],t,a,n,e),path:r[l]}});return s.sort(function(i,l){return i.z-l.z}).map(function(i){return i.path})}function Ye(r){return wn(r.path,r.count)}function ae(){return{fromIndividuals:[],toIndividuals:[],count:0}}function bn(r,t,a){var n=[];function e(I){for(var w=0;w<I.length;w++){var x=I[w];Lt(x)?e(x.childrenRef()):x instanceof Rt&&n.push(x)}}e(r);var o=n.length;if(!o)return ae();var s=a.dividePath||Ye,i=s({path:t,count:o});if(i.length!==o)return console.error("Invalid morphing: unmatched splitted path"),ae();n=Ft(n),i=Ft(i);for(var l=a.done,v=a.during,d=a.individualDelay,u=new oa,f=0;f<o;f++){var c=n[f],m=i[f];m.parent=t,m.copyTransform(u),d||Ve(c,m)}t.__isCombineMorphing=!0,t.childrenRef=function(){return i};function p(I){for(var w=0;w<i.length;w++)i[w].addSelfToZr(I)}$t(t,"addSelfToZr",{after:function(I){p(I)}}),$t(t,"removeSelfFromZr",{after:function(I){for(var w=0;w<i.length;w++)i[w].removeSelfFromZr(I)}});function g(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,Ot(t,"addSelfToZr"),Ot(t,"removeSelfFromZr")}var E=i.length;if(d)for(var _=E,y=function(){_--,_===0&&(g(),l&&l())},f=0;f<E;f++){var D=d?mt({delay:(a.delay||0)+d(f,E,n[f],i[f]),done:y},a):a;ve(n[f],i[f],D)}else t.__morphT=0,t.animateTo({__morphT:1},mt({during:function(I){for(var w=0;w<E;w++){var x=i[w];x.__morphT=t.__morphT,x.dirtyShape()}v&&v(I)},done:function(){g();for(var I=0;I<r.length;I++)Ot(r[I],"updateTransform");l&&l()}},a));return t.__zr&&p(t.__zr),{fromIndividuals:n,toIndividuals:i,count:E}}function _n(r,t,a){var n=t.length,e=[],o=a.dividePath||Ye;function s(c){for(var m=0;m<c.length;m++){var p=c[m];Lt(p)?s(p.childrenRef()):p instanceof Rt&&e.push(p)}}if(Lt(r)){s(r.childrenRef());var i=e.length;if(i<n)for(var l=0,v=i;v<n;v++)e.push(oe(e[l++%i]));e.length=n}else{e=o({path:r,count:n});for(var d=r.getComputedTransform(),v=0;v<e.length;v++)e[v].setLocalTransform(d);if(e.length!==n)return console.error("Invalid morphing: unmatched splitted path"),ae()}e=Ft(e),t=Ft(t);for(var u=a.individualDelay,v=0;v<n;v++){var f=u?mt({delay:(a.delay||0)+u(v,n,e[v],t[v])},a):a;ve(e[v],t[v],f)}return{fromIndividuals:e,toIndividuals:t,count:t.length}}function xe(r){return bt(r[0])}function Ce(r,t){for(var a=[],n=r.length,e=0;e<n;e++)a.push({one:r[e],many:[]});for(var e=0;e<t.length;e++){var o=t[e].length,s=void 0;for(s=0;s<o;s++)a[s%n].many.push(t[e][s])}for(var i=0,e=n-1;e>=0;e--)if(!a[e].many.length){var l=a[i].many;if(l.length<=1)if(i)i=0;else return a;var o=l.length,v=Math.ceil(o/2);a[e].many=l.slice(v,o),a[i].many=l.slice(0,v),i++}return a}var Dn={clone:function(r){for(var t=[],a=1-Math.pow(1-r.path.style.opacity,1/r.count),n=0;n<r.count;n++){var e=oe(r.path);e.setStyle("opacity",a),t.push(e)}return t},split:null};function Yt(r,t,a,n,e,o){if(!r.length||!t.length)return;var s=se("update",n,e);if(!(s&&s.duration>0))return;var i=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},s),v,d;xe(r)&&(v=r,d=t),xe(t)&&(v=t,d=r);function u(E,_,y,D,I){var w=E.many,x=E.one;if(w.length===1&&!I){var b=_?w[0]:x,M=_?x:w[0];if(Lt(b))u({many:[b],one:M},!0,y,D,!0);else{var P=i?mt({delay:i(y,D)},l):l;ve(b,M,P),o(b,M,b,M,P)}}else for(var B=mt({dividePath:Dn[a],individualDelay:i&&function(tt,et,ct,nt){return i(tt+y,D)}},l),Q=_?bn(w,x,B):_n(x,w,B),U=Q.fromIndividuals,H=Q.toIndividuals,J=U.length,q=0;q<J;q++){var P=i?mt({delay:i(q,J)},l):l;o(U[q],H[q],_?w[q]:E.one,_?E.one:w[q],P)}}for(var f=v?v===r:r.length>t.length,c=v?Ce(d,v):Ce(f?t:r,[f?r:t]),m=0,p=0;p<c.length;p++)m+=c[p].many.length;for(var g=0,p=0;p<c.length;p++)u(c[p],f,g,m),g+=c[p].many.length}function gt(r){if(!r)return[];if(bt(r)){for(var t=[],a=0;a<r.length;a++)t.push(gt(r[a]));return t}var n=[];return r.traverse(function(e){e instanceof Rt&&!e.disableMorphing&&!e.invisible&&!e.ignore&&n.push(e)}),n}var Be=1e4,On=0,be=1,_e=2,Rn=va();function An(r,t){for(var a=r.dimensions,n=0;n<a.length;n++){var e=r.getDimensionInfo(a[n]);if(e&&e.otherDims[t]===0)return a[n]}}function Pn(r,t,a){var n=r.getDimensionInfo(a),e=n&&n.ordinalMeta;if(n){var o=r.get(n.name,t);return e&&e.categories[o]||o+""}}function De(r,t,a,n){var e=n?"itemChildGroupId":"itemGroupId",o=An(r,e);if(o){var s=Pn(r,t,o);return s}var i=r.getRawDataItem(t),l=n?"childGroupId":"groupId";if(i&&i[l])return i[l]+"";if(!n)return a||r.getId(t)}function Oe(r){var t=[];return Y(r,function(a){var n=a.data,e=a.dataGroupId;if(!(n.count()>Be))for(var o=n.getIndices(),s=0;s<o.length;s++)t.push({data:n,groupId:De(n,s,e,!1),childGroupId:De(n,s,e,!0),divide:a.divide,dataIndex:s})}),t}function Bt(r,t,a){r.traverse(function(n){n instanceof Rt&&la(n,{style:{opacity:0}},t,{dataIndex:a,isFrom:!0})})}function Jt(r){if(r.parent){var t=r.getComputedTransform();r.setLocalTransform(t),r.parent.remove(r)}}function Mt(r){r.stopAnimation(),r.isGroup&&r.traverse(function(t){t.stopAnimation()})}function zn(r,t,a){var n=se("update",a,t);n&&r.traverse(function(e){if(e instanceof ua){var o=da(e);o&&e.animateFrom({style:o},n)}})}function Gn(r,t){var a=r.length;if(a!==t.length)return!1;for(var n=0;n<a;n++){var e=r[n],o=t[n];if(e.data.getId(e.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}function Je(r,t,a){var n=Oe(r),e=Oe(t);function o(y,D,I,w,x){(I||y)&&D.animateFrom({style:I&&I!==y?ge(ge({},I.style),y.style):y.style},x)}var s=!1,i=On,l=Dt(),v=Dt();n.forEach(function(y){y.groupId&&l.set(y.groupId,!0),y.childGroupId&&v.set(y.childGroupId,!0)});for(var d=0;d<e.length;d++){var u=e[d].groupId;if(v.get(u)){i=be;break}var f=e[d].childGroupId;if(f&&l.get(f)){i=_e;break}}function c(y,D){return function(I){var w=I.data,x=I.dataIndex;return D?w.getId(x):y?i===be?I.childGroupId:I.groupId:i===_e?I.childGroupId:I.groupId}}var m=Gn(n,e),p={};if(!m)for(var d=0;d<e.length;d++){var g=e[d],E=g.data.getItemGraphicEl(g.dataIndex);E&&(p[E.id]=!0)}function _(y,D){var I=n[D],w=e[y],x=w.data.hostModel,b=I.data.getItemGraphicEl(I.dataIndex),M=w.data.getItemGraphicEl(w.dataIndex);if(b===M){M&&zn(M,w.dataIndex,x);return}b&&p[b.id]||M&&(Mt(M),b?(Mt(b),Jt(b),s=!0,Yt(gt(b),gt(M),w.divide,x,y,o)):Bt(M,x,y))}new ce(n,e,c(!0,m),c(!1,m),null,"multiple").update(_).updateManyToOne(function(y,D){var I=e[y],w=I.data,x=w.hostModel,b=w.getItemGraphicEl(I.dataIndex),M=he(Ct(D,function(P){return n[P].data.getItemGraphicEl(n[P].dataIndex)}),function(P){return P&&P!==b&&!p[P.id]});b&&(Mt(b),M.length?(Y(M,function(P){Mt(P),Jt(P)}),s=!0,Yt(gt(M),gt(b),I.divide,x,y,o)):Bt(b,x,I.dataIndex))}).updateOneToMany(function(y,D){var I=n[D],w=I.data.getItemGraphicEl(I.dataIndex);if(!(w&&p[w.id])){var x=he(Ct(y,function(M){return e[M].data.getItemGraphicEl(e[M].dataIndex)}),function(M){return M&&M!==w}),b=e[y[0]].data.hostModel;x.length&&(Y(x,function(M){return Mt(M)}),w?(Mt(w),Jt(w),s=!0,Yt(gt(w),gt(x),I.divide,b,y[0],o)):Y(x,function(M){return Bt(M,b,y[0])}))}}).updateManyToMany(function(y,D){new ce(D,y,function(I){return n[I].data.getId(n[I].dataIndex)},function(I){return e[I].data.getId(e[I].dataIndex)}).update(function(I,w){_(y[I],D[w])}).execute()}).execute(),s&&Y(t,function(y){var D=y.data,I=D.hostModel,w=I&&a.getViewOfSeriesModel(I),x=se("update",I,0);w&&I.isAnimationEnabled()&&x&&x.duration>0&&w.group.traverse(function(b){b instanceof Rt&&!b.animators.length&&b.animateFrom({style:{opacity:0}},x)})})}function Re(r){var t=r.getModel("universalTransition").get("seriesKey");return t||r.id}function Ae(r){return bt(r)?r.sort().join(","):r}function dt(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function Ln(r,t){var a=Dt(),n=Dt(),e=Dt();return Y(r.oldSeries,function(o,s){var i=r.oldDataGroupIds[s],l=r.oldData[s],v=Re(o),d=Ae(v);n.set(d,{dataGroupId:i,data:l}),bt(v)&&Y(v,function(u){e.set(u,{key:d,dataGroupId:i,data:l})})}),Y(t.updatedSeries,function(o){if(o.isUniversalTransitionEnabled()&&o.isAnimationEnabled()){var s=o.get("dataGroupId"),i=o.getData(),l=Re(o),v=Ae(l),d=n.get(v);if(d)a.set(v,{oldSeries:[{dataGroupId:d.dataGroupId,divide:dt(d.data),data:d.data}],newSeries:[{dataGroupId:s,divide:dt(i),data:i}]});else if(bt(l)){var u=[];Y(l,function(m){var p=n.get(m);p.data&&u.push({dataGroupId:p.dataGroupId,divide:dt(p.data),data:p.data})}),u.length&&a.set(v,{oldSeries:u,newSeries:[{dataGroupId:s,data:i,divide:dt(i)}]})}else{var f=e.get(l);if(f){var c=a.get(f.key);c||(c={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:dt(f.data)}],newSeries:[]},a.set(f.key,c)),c.newSeries.push({dataGroupId:s,data:i,divide:dt(i)})}}}}),a}function Pe(r,t){for(var a=0;a<r.length;a++){var n=t.seriesIndex!=null&&t.seriesIndex===r[a].seriesIndex||t.seriesId!=null&&t.seriesId===r[a].id;if(n)return a}}function $n(r,t,a,n){var e=[],o=[];Y(_t(r.from),function(s){var i=Pe(t.oldSeries,s);i>=0&&e.push({dataGroupId:t.oldDataGroupIds[i],data:t.oldData[i],divide:dt(t.oldData[i]),groupIdDim:s.dimension})}),Y(_t(r.to),function(s){var i=Pe(a.updatedSeries,s);if(i>=0){var l=a.updatedSeries[i].getData();o.push({dataGroupId:t.oldDataGroupIds[i],data:l,divide:dt(l),groupIdDim:s.dimension})}}),e.length>0&&o.length>0&&Je(e,o,n)}function Fn(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,a,n){Y(_t(n.seriesTransition),function(e){Y(_t(e.to),function(o){for(var s=n.updatedSeries,i=0;i<s.length;i++)(o.seriesIndex!=null&&o.seriesIndex===s[i].seriesIndex||o.seriesId!=null&&o.seriesId===s[i].id)&&(s[i][Xt]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(t,a,n){var e=Rn(a);if(e.oldSeries&&n.updatedSeries&&n.optionChanged){var o=n.seriesTransition;if(o)Y(_t(o),function(c){$n(c,e,n,a)});else{var s=Ln(e,n);Y(s.keys(),function(c){var m=s.get(c);Je(m.oldSeries,m.newSeries,a)})}Y(n.updatedSeries,function(c){c[Xt]&&(c[Xt]=!1)})}for(var i=t.getSeries(),l=e.oldSeries=[],v=e.oldDataGroupIds=[],d=e.oldData=[],u=0;u<i.length;u++){var f=i[u].getData();f.count()<Be&&(l.push(i[u]),v.push(i[u].get("dataGroupId")),d.push(f))}})}z([$e]);z([fa]);z([ca,ha,ga,pa,ma,ya,Ia,wa,Ma,Sa,Ta,Ea,xa,Ca,ba,_a,Da,Oa,Ra,Aa,Pa,za]);z(Ga);z(La);z($a);z(Fa);z(ka);z(Wa);z(Na);z(qa);z(Ua);z(Ha);z(ja);z(Xa);z(Za);z(Va);z(Ya);z(Ba);z(Ja);z(Qa);z(Ka);z(tr);z(er);z(ar);z(rr);z(nr);z(ir);z(Fe);z(Fn);z(ke);const kn=Object.freeze(Object.defineProperty({__proto__:null,Axis:or,ChartView:sr,ComponentModel:vr,ComponentView:lr,List:We,Model:ur,PRIORITY:dr,SeriesModel:fr,color:cr,connect:hr,dataTool:gr,dependencies:pr,disConnect:mr,disconnect:yr,dispose:Ir,env:wr,extendChartView:Ne,extendComponentModel:Mr,extendComponentView:Sr,extendSeriesModel:qe,format:Tr,getCoordinateSystemDimensions:Er,getInstanceByDom:xr,getInstanceById:Cr,getMap:br,graphic:_r,helper:Dr,init:Or,innerDrawElementOnCanvas:Rr,matrix:Ar,number:Pr,parseGeoJSON:pe,parseGeoJson:pe,registerAction:zr,registerCoordinateSystem:Gr,registerLayout:Ue,registerLoading:Lr,registerLocale:$r,registerMap:Fr,registerPostInit:kr,registerPostUpdate:Wr,registerPreprocessor:He,registerProcessor:Nr,registerTheme:qr,registerTransform:Ur,registerUpdateLifecycle:Hr,registerVisual:jr,setCanvasCreator:Xr,setPlatformAPI:Zr,throttle:Vr,time:Yr,use:z,util:Br,vector:Jr,version:Qr,zrUtil:Kr,zrender:tn},Symbol.toStringTag,{value:"Module"}));var yt={},ft={},Qe={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=1,a=function(){return"".concat(t++)};r.default=a})(Qe);var kt={},Wt={},le={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,o=null;return function(){for(var s=this,i=arguments.length,l=new Array(i),v=0;v<i;v++)l[v]=arguments[v];clearTimeout(o),o=setTimeout(function(){n.apply(s,l)},e)}};r.default=t})(le);var ot={};Object.defineProperty(ot,"__esModule",{value:!0});ot.SizeSensorId=ot.SensorTabIndex=ot.SensorClassName=void 0;var Wn="size-sensor-id";ot.SizeSensorId=Wn;var Nn="size-sensor-object";ot.SensorClassName=Nn;var qn="-1";ot.SensorTabIndex=qn;Object.defineProperty(Wt,"__esModule",{value:!0});Wt.createSensor=void 0;var Un=Hn(le),Qt=ot;function Hn(r){return r&&r.__esModule?r:{default:r}}var jn=function(t,a){var n=void 0,e=[],o=function(){getComputedStyle(t).position==="static"&&(t.style.position="relative");var u=document.createElement("object");return u.onload=function(){u.contentDocument.defaultView.addEventListener("resize",s),s()},u.style.display="block",u.style.position="absolute",u.style.top="0",u.style.left="0",u.style.height="100%",u.style.width="100%",u.style.overflow="hidden",u.style.pointerEvents="none",u.style.zIndex="-1",u.style.opacity="0",u.setAttribute("class",Qt.SensorClassName),u.setAttribute("tabindex",Qt.SensorTabIndex),u.type="text/html",t.appendChild(u),u.data="about:blank",u},s=(0,Un.default)(function(){e.forEach(function(d){d(t)})}),i=function(u){n||(n=o()),e.indexOf(u)===-1&&e.push(u)},l=function(){n&&n.parentNode&&(n.contentDocument&&n.contentDocument.defaultView.removeEventListener("resize",s),n.parentNode.removeChild(n),t.removeAttribute(Qt.SizeSensorId),n=void 0,e=[],a&&a())},v=function(u){var f=e.indexOf(u);f!==-1&&e.splice(f,1),e.length===0&&n&&l()};return{element:t,bind:i,destroy:l,unbind:v}};Wt.createSensor=jn;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.createSensor=void 0;var Xn=ot,Zn=Vn(le);function Vn(r){return r&&r.__esModule?r:{default:r}}var Yn=function(t,a){var n=void 0,e=[],o=(0,Zn.default)(function(){e.forEach(function(d){d(t)})}),s=function(){var u=new ResizeObserver(o);return u.observe(t),o(),u},i=function(u){n||(n=s()),e.indexOf(u)===-1&&e.push(u)},l=function(){n.disconnect(),e=[],n=void 0,t.removeAttribute(Xn.SizeSensorId),a&&a()},v=function(u){var f=e.indexOf(u);f!==-1&&e.splice(f,1),e.length===0&&n&&l()};return{element:t,bind:i,destroy:l,unbind:v}};Nt.createSensor=Yn;Object.defineProperty(kt,"__esModule",{value:!0});kt.createSensor=void 0;var Bn=Wt,Jn=Nt,Qn=typeof ResizeObserver<"u"?Jn.createSensor:Bn.createSensor;kt.createSensor=Qn;Object.defineProperty(ft,"__esModule",{value:!0});ft.removeSensor=ft.getSensor=ft.Sensors=void 0;var Kn=ei(Qe),ti=kt,re=ot;function ei(r){return r&&r.__esModule?r:{default:r}}var xt={};ft.Sensors=xt;function Ke(r){r&&xt[r]&&delete xt[r]}var ai=function(t){var a=t.getAttribute(re.SizeSensorId);if(a&&xt[a])return xt[a];var n=(0,Kn.default)();t.setAttribute(re.SizeSensorId,n);var e=(0,ti.createSensor)(t,function(){return Ke(n)});return xt[n]=e,e};ft.getSensor=ai;var ri=function(t){var a=t.element.getAttribute(re.SizeSensorId);t.destroy(),Ke(a)};ft.removeSensor=ri;Object.defineProperty(yt,"__esModule",{value:!0});yt.ver=ea=yt.clear=ta=yt.bind=void 0;var ne=ft,ni=function(t,a){var n=(0,ne.getSensor)(t);return n.bind(a),function(){n.unbind(a)}},ta=yt.bind=ni,ii=function(t){var a=(0,ne.getSensor)(t);(0,ne.removeSensor)(a)},ea=yt.clear=ii,oi="1.0.2";yt.ver=oi;function ze(r,t){var a={};return t.forEach(function(n){a[n]=r[n]}),a}function Kt(r){return typeof r=="function"}function Ge(r){return typeof r=="string"}var si=function r(t,a){if(t===a)return!0;if(t&&a&&typeof t=="object"&&typeof a=="object"){if(t.constructor!==a.constructor)return!1;var n,e,o;if(Array.isArray(t)){if(n=t.length,n!=a.length)return!1;for(e=n;e--!==0;)if(!r(t[e],a[e]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(a).length)return!1;for(e=n;e--!==0;)if(!Object.prototype.hasOwnProperty.call(a,o[e]))return!1;for(e=n;e--!==0;){var s=o[e];if(!r(t[s],a[s]))return!1}return!0}return t!==t&&a!==a};const St=ln(si);var vi=function(r){je(t,r);function t(a){var n=r.call(this,a)||this;return n.echarts=a.echarts,n.ele=null,n.isInitialResize=!0,n}return t.prototype.componentDidMount=function(){this.renderNewEcharts()},t.prototype.componentDidUpdate=function(a){var n=this.props.shouldSetOption;if(!(Kt(n)&&!n(a,this.props))){if(!St(a.theme,this.props.theme)||!St(a.opts,this.props.opts)){this.dispose(),this.renderNewEcharts();return}var e=this.getEchartsInstance();St(a.onEvents,this.props.onEvents)||(this.offEvents(e,a.onEvents),this.bindEvents(e,this.props.onEvents));var o=["option","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption"];St(ze(this.props,o),ze(a,o))||this.updateEChartsOption(),(!St(a.style,this.props.style)||!St(a.className,this.props.className))&&this.resize()}},t.prototype.componentWillUnmount=function(){this.dispose()},t.prototype.initEchartsInstance=function(){return me(this,void 0,void 0,function(){var a=this;return ye(this,function(n){return[2,new Promise(function(e){a.echarts.init(a.ele,a.props.theme,a.props.opts);var o=a.getEchartsInstance();o.on("finished",function(){var s=a.ele.clientWidth,i=a.ele.clientHeight;a.echarts.dispose(a.ele);var l=Zt({width:s,height:i},a.props.opts);e(a.echarts.init(a.ele,a.props.theme,l))})})]})})},t.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)},t.prototype.dispose=function(){if(this.ele){try{ea(this.ele)}catch(a){console.warn(a)}this.echarts.dispose(this.ele)}},t.prototype.renderNewEcharts=function(){return me(this,void 0,void 0,function(){var a,n,e,o,s,i,l=this;return ye(this,function(v){switch(v.label){case 0:return a=this.props,n=a.onEvents,e=a.onChartReady,o=a.autoResize,s=o===void 0?!0:o,[4,this.initEchartsInstance()];case 1:return v.sent(),i=this.updateEChartsOption(),this.bindEvents(i,n||{}),Kt(e)&&e(i),this.ele&&s&&ta(this.ele,function(){l.resize()}),[2]}})})},t.prototype.bindEvents=function(a,n){function e(s,i){Ge(s)&&Kt(i)&&a.on(s,function(l){i(l,a)})}for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e(o,n[o])},t.prototype.offEvents=function(a,n){if(n)for(var e in n)Ge(e)&&a.off(e,n[e])},t.prototype.updateEChartsOption=function(){var a=this.props,n=a.option,e=a.notMerge,o=e===void 0?!1:e,s=a.replaceMerge,i=s===void 0?null:s,l=a.lazyUpdate,v=l===void 0?!1:l,d=a.showLoading,u=a.loadingOption,f=u===void 0?null:u,c=this.getEchartsInstance();return c.setOption(n,{notMerge:o,replaceMerge:i,lazyUpdate:v}),d?c.showLoading(f):c.hideLoading(),c},t.prototype.resize=function(){var a=this.getEchartsInstance();if(!this.isInitialResize)try{a.resize({width:"auto",height:"auto"})}catch(n){console.warn(n)}this.isInitialResize=!1},t.prototype.render=function(){var a=this,n=this.props,e=n.style,o=n.className,s=o===void 0?"":o;n.echarts,n.option,n.theme,n.notMerge,n.replaceMerge,n.lazyUpdate,n.showLoading,n.loadingOption,n.opts,n.onChartReady,n.onEvents,n.shouldSetOption,n.autoResize;var i=en(n,["style","className","echarts","option","theme","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption","opts","onChartReady","onEvents","shouldSetOption","autoResize"]),l=Zt({height:300},e);return un.createElement("div",Zt({ref:function(v){a.ele=v},style:l,className:"echarts-for-react ".concat(s)},i))},t}(dn.PureComponent),pi=function(r){je(t,r);function t(a){var n=r.call(this,a)||this;return n.echarts=kn,n}return t}(vi);z([$e,Fe]);z(ke);qe({type:"series.wordCloud",visualStyleAccessPath:"textStyle",visualStyleMapper:function(r){return{fill:r.get("color")}},visualDrawType:"fill",optionUpdated:function(){var r=this.option;r.gridSize=Math.max(Math.floor(r.gridSize),4)},getInitialData:function(r,t){var a=an(r.data,{coordDimensions:["value"]}),n=new We(a,this);return n.initData(r.data),n},defaultOption:{maskImage:null,shape:"circle",keepAspect:!1,left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,textStyle:{fontWeight:"normal"}}});Ne({type:"wordCloud",render:function(r,t,a){var n=this.group;n.removeAll();var e=r.getData(),o=r.get("gridSize");r.layoutInstance.ondraw=function(s,i,l,v){var d=e.getItemModel(l),u=d.getModel("textStyle"),f=new rn({style:Vt(u),scaleX:1/v.info.mu,scaleY:1/v.info.mu,x:(v.gx+v.info.gw/2)*o,y:(v.gy+v.info.gh/2)*o,rotation:v.rot});f.setStyle({x:v.info.fillTextOffsetX,y:v.info.fillTextOffsetY+i*.5,text:s,verticalAlign:"middle",fill:e.getItemVisual(l,"style").fill,fontSize:i}),n.add(f),e.setItemGraphicEl(l,f),f.ensureState("emphasis").style=Vt(d.getModel(["emphasis","textStyle"]),{state:"emphasis"}),f.ensureState("blur").style=Vt(d.getModel(["blur","textStyle"]),{state:"blur"}),nn(f,d.get(["emphasis","focus"]),d.get(["emphasis","blurScope"])),f.stateTransition={duration:r.get("animation")?r.get(["stateAnimation","duration"]):0,easing:r.get(["stateAnimation","easing"])},f.__highDownDispatcher=!0},this._model=r},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}});/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2019 Tim Guan-tin Chien and contributors.
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var a=[void 0],n="zero-timeout-message",e=function(s){var i=a.length;return a.push(s),window.postMessage(n+i.toString(36),"*"),i};return window.addEventListener("message",function(s){if(!(typeof s.data!="string"||s.data.substr(0,n.length)!==n)){s.stopImmediatePropagation();var i=parseInt(s.data.substr(n.length),36);a[i]&&(a[i](),a[i]=void 0)}},!0),window.clearImmediate=function(s){a[s]&&(a[s]=void 0)},e}()||function(a){window.setTimeout(a,0)}}());window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(a){window.clearTimeout(a)}}());var ue=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;var a=t.getContext("2d");return!(!a||!a.getImageData||!a.fillText||!Array.prototype.some||!Array.prototype.push)}(),ie=function(){if(ue){for(var t=document.createElement("canvas").getContext("2d"),a=20,n,e;a;){if(t.font=a.toString(10)+"px sans-serif",t.measureText("Ｗ").width===n&&t.measureText("m").width===e)return a+1;n=t.measureText("Ｗ").width,e=t.measureText("m").width,a--}return 0}}(),li=function(r){if(Array.isArray(r)){var t=r.slice();return t.splice(0,2),t}else return[]},ui=function(t){for(var a,n,e=t.length;e;)a=Math.floor(Math.random()*e),n=t[--e],t[e]=t[a],t[a]=n;return t},Tt={},qt=function(t,a){if(!ue)return;var n=Math.floor(Math.random()*Date.now());Array.isArray(t)||(t=[t]),t.forEach(function(A,h){if(typeof A=="string"){if(t[h]=document.getElementById(A),!t[h])throw new Error("The element id specified is not found.")}else if(!A.tagName&&!A.appendChild)throw new Error("You must pass valid HTML elements, or ID of the element.")});var e={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,layoutAnimation:!0,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(a)for(var o in a)o in e&&(e[o]=a[o]);if(typeof e.weightFactor!="function"){var s=e.weightFactor;e.weightFactor=function(h){return h*s}}if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(h){return 1-Math.sin(h)};break;case"diamond":e.shape=function(h){var S=h%(2*Math.PI/4);return 1/(Math.cos(S)+Math.sin(S))};break;case"square":e.shape=function(h){return Math.min(1/Math.abs(Math.cos(h)),1/Math.abs(Math.sin(h)))};break;case"triangle-forward":e.shape=function(h){var S=h%(2*Math.PI/3);return 1/(Math.cos(S)+Math.sqrt(3)*Math.sin(S))};break;case"triangle":case"triangle-upright":e.shape=function(h){var S=(h+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(S)+Math.sqrt(3)*Math.sin(S))};break;case"pentagon":e.shape=function(h){var S=(h+.955)%(2*Math.PI/5);return 1/(Math.cos(S)+.726543*Math.sin(S))};break;case"star":e.shape=function(h){var S=(h+.955)%(2*Math.PI/10);return(h+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-S)+3.07768*Math.sin(2*Math.PI/10-S)):1/(Math.cos(S)+3.07768*Math.sin(S))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var i=e.gridSize,l=i-e.maskGapWidth,v=Math.abs(e.maxRotation-e.minRotation),d=Math.min(e.maxRotation,e.minRotation),u=e.rotationStep,f,c,m,p,g,E,_;function y(A,h){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(h-A)+A).toFixed()+"%)"}switch(e.color){case"random-dark":_=function(){return y(10,50)};break;case"random-light":_=function(){return y(50,90)};break;default:typeof e.color=="function"&&(_=e.color);break}var D;typeof e.fontWeight=="function"&&(D=e.fontWeight);var I=null;typeof e.classes=="function"&&(I=e.classes);var w=!1,x=[],b,M=function(h){var S=h.currentTarget,T=S.getBoundingClientRect(),O,C;h.touches?(O=h.touches[0].clientX,C=h.touches[0].clientY):(O=h.clientX,C=h.clientY);var R=O-T.left,W=C-T.top,L=Math.floor(R*(S.width/T.width||1)/i),$=Math.floor(W*(S.height/T.height||1)/i);return x[L]?x[L][$]:null},P=function(h){var S=M(h);if(b!==S){if(b=S,!S){e.hover(void 0,void 0,h);return}e.hover(S.item,S.dimension,h)}},B=function(h){var S=M(h);S&&(e.click(S.item,S.dimension,h),h.preventDefault())},Q=[],U=function(h){if(Q[h])return Q[h];var S=h*8,T=S,O=[];for(h===0&&O.push([p[0],p[1],0]);T--;){var C=1;e.shape!=="circle"&&(C=e.shape(T/S*2*Math.PI)),O.push([p[0]+h*C*Math.cos(-T/S*2*Math.PI),p[1]+h*C*Math.sin(-T/S*2*Math.PI)*e.ellipticity,T/S*2*Math.PI])}return Q[h]=O,O},H=function(){return e.abortThreshold>0&&new Date().getTime()-E>e.abortThreshold},J=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:v===0?d:d+Math.round(Math.random()*v/u)*u},q=function(h,S,T,O){var C=e.weightFactor(S);if(C<=e.minSize)return!1;var R=1;C<ie&&(R=function(){for(var jt=2;jt*C<ie;)jt+=2;return jt}());var W;D?W=D(h,S,C,O):W=e.fontWeight;var L=document.createElement("canvas"),$=L.getContext("2d",{willReadFrequently:!0});$.font=W+" "+(C*R).toString(10)+"px "+e.fontFamily;var V=$.measureText(h).width/R,F=Math.max(C*R,$.measureText("m").width,$.measureText("Ｗ").width)/R,k=V+F*2,X=F*3,K=Math.ceil(k/i),at=Math.ceil(X/i);k=K*i,X=at*i;var j=-V/2,G=-F*.4,N=Math.ceil((k*Math.abs(Math.sin(T))+X*Math.abs(Math.cos(T)))/i),Z=Math.ceil((k*Math.abs(Math.cos(T))+X*Math.abs(Math.sin(T)))/i),rt=Z*i,It=N*i;L.setAttribute("width",rt),L.setAttribute("height",It),$.scale(1/R,1/R),$.translate(rt*R/2,It*R/2),$.rotate(-T),$.font=W+" "+(C*R).toString(10)+"px "+e.fontFamily,$.fillStyle="#000",$.textBaseline="middle",$.fillText(h,j*R,(G+C*.5)*R);var Pt=$.getImageData(0,0,rt,It).data;if(H())return!1;for(var de=[],ht=Z,ut,Ut,Ht,vt=[N/2,Z/2,N/2,Z/2];ht--;)for(ut=N;ut--;){Ht=i;t:for(;Ht--;)for(Ut=i;Ut--;)if(Pt[((ut*i+Ht)*rt+(ht*i+Ut))*4+3]){de.push([ht,ut]),ht<vt[3]&&(vt[3]=ht),ht>vt[1]&&(vt[1]=ht),ut<vt[0]&&(vt[0]=ut),ut>vt[2]&&(vt[2]=ut);break t}}return{mu:R,occupied:de,bounds:vt,gw:Z,gh:N,fillTextOffsetX:j,fillTextOffsetY:G,fillTextWidth:V,fillTextHeight:F,fontSize:C}},tt=function(h,S,T,O,C){for(var R=C.length;R--;){var W=h+C[R][0],L=S+C[R][1];if(W>=c||L>=m||W<0||L<0){if(!e.drawOutOfBound)return!1;continue}if(!f[W][L])return!1}return!0},et=function(h,S,T,O,C,R,W,L,$,V){var F=T.fontSize,k;_?k=_(O,C,F,R,W,V):k=e.color;var X;D?X=D(O,C,F,V):X=e.fontWeight;var K;I?K=I(O,C,F,V):K=e.classes,t.forEach(function(at){if(at.getContext){var j=at.getContext("2d"),G=T.mu;j.save(),j.scale(1/G,1/G),j.font=X+" "+(F*G).toString(10)+"px "+e.fontFamily,j.fillStyle=k,j.translate((h+T.gw/2)*i*G,(S+T.gh/2)*i*G),L!==0&&j.rotate(-L),j.textBaseline="middle",j.fillText(O,T.fillTextOffsetX*G,(T.fillTextOffsetY+F*.5)*G),j.restore()}else{var N=document.createElement("span"),Z="";Z="rotate("+-L/Math.PI*180+"deg) ",T.mu!==1&&(Z+="translateX(-"+T.fillTextWidth/4+"px) scale("+1/T.mu+")");var rt={position:"absolute",display:"block",font:X+" "+F*T.mu+"px "+e.fontFamily,left:(h+T.gw/2)*i+T.fillTextOffsetX+"px",top:(S+T.gh/2)*i+T.fillTextOffsetY+"px",width:T.fillTextWidth+"px",height:T.fillTextHeight+"px",lineHeight:F+"px",whiteSpace:"nowrap",transform:Z,webkitTransform:Z,msTransform:Z,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};k&&(rt.color=k),N.textContent=O;for(var It in rt)N.style[It]=rt[It];if($)for(var Pt in $)N.setAttribute(Pt,$[Pt]);K&&(N.className+=K),at.appendChild(N)}})},ct=function(h,S,T,O,C){if(!(h>=c||S>=m||h<0||S<0)){if(f[h][S]=!1,T){var R=t[0].getContext("2d");R.fillRect(h*i,S*i,l,l)}w&&(x[h][S]={item:C,dimension:O})}},nt=function(h,S,T,O,C,R){var W=C.occupied,L=e.drawMask,$;L&&($=t[0].getContext("2d"),$.save(),$.fillStyle=e.maskColor);var V;if(w){var F=C.bounds;V={x:(h+F[3])*i,y:(S+F[0])*i,w:(F[1]-F[3]+1)*i,h:(F[2]-F[0]+1)*i}}for(var k=W.length;k--;){var X=h+W[k][0],K=S+W[k][1];X>=c||K>=m||X<0||K<0||ct(X,K,L,V,R)}L&&$.restore()},st=function A(h,S){if(S>20)return null;var T,O,C;Array.isArray(h)?(T=h[0],O=h[1]):(T=h.word,O=h.weight,C=h.attributes);var R=J(),W=li(h),L=q(T,O,R,W);if(!L||H())return!1;if(!e.drawOutOfBound&&!e.shrinkToFit){var $=L.bounds;if($[1]-$[3]+1>c||$[2]-$[0]+1>m)return!1}for(var V=g+1,F=function(at){var j=Math.floor(at[0]-L.gw/2),G=Math.floor(at[1]-L.gh/2),N=L.gw,Z=L.gh;return tt(j,G,N,Z,L.occupied)?(et(j,G,L,T,O,g-V,at[2],R,C,W),nt(j,G,N,Z,L,h),{gx:j,gy:G,rot:R,info:L}):!1};V--;){var k=U(g-V);e.shuffle&&(k=[].concat(k),ui(k));for(var X=0;X<k.length;X++){var K=F(k[X]);if(K)return K}}return e.shrinkToFit?(Array.isArray(h)?h[1]=h[1]*3/4:h.weight=h.weight*3/4,A(h,S+1)):null},lt=function(h,S,T){if(S)return!t.some(function(O){var C=new CustomEvent(h,{detail:T||{}});return!O.dispatchEvent(C)},this);t.forEach(function(O){var C=new CustomEvent(h,{detail:T||{}});O.dispatchEvent(C)},this)},At=function(){var h=t[0];if(h.getContext)c=Math.ceil(h.width/i),m=Math.ceil(h.height/i);else{var S=h.getBoundingClientRect();c=Math.ceil(S.width/i),m=Math.ceil(S.height/i)}if(lt("wordcloudstart",!0)){p=e.origin?[e.origin[0]/i,e.origin[1]/i]:[c/2,m/2],g=Math.floor(Math.sqrt(c*c+m*m)),f=[];var T,O,C;if(!h.getContext||e.clearCanvas)for(t.forEach(function(G){if(G.getContext){var N=G.getContext("2d");N.fillStyle=e.backgroundColor,N.clearRect(0,0,c*(i+1),m*(i+1)),N.fillRect(0,0,c*(i+1),m*(i+1))}else G.textContent="",G.style.backgroundColor=e.backgroundColor,G.style.position="relative"}),T=c;T--;)for(f[T]=[],O=m;O--;)f[T][O]=!0;else{var R=document.createElement("canvas").getContext("2d");R.fillStyle=e.backgroundColor,R.fillRect(0,0,1,1);var W=R.getImageData(0,0,1,1).data,L=h.getContext("2d").getImageData(0,0,c*i,m*i).data;T=c;for(var $,V;T--;)for(f[T]=[],O=m;O--;){V=i;t:for(;V--;)for($=i;$--;)for(C=4;C--;)if(L[((O*i+V)*c*i+(T*i+$))*4+C]!==W[C]){f[T][O]=!1;break t}f[T][O]!==!1&&(f[T][O]=!0)}L=R=W=void 0}if(e.hover||e.click){for(w=!0,T=c+1;T--;)x[T]=[];e.hover&&h.addEventListener("mousemove",P),e.click&&(h.addEventListener("click",B),h.addEventListener("touchstart",B),h.addEventListener("touchend",function(G){G.preventDefault()}),h.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),h.addEventListener("wordcloudstart",function G(){h.removeEventListener("wordcloudstart",G),h.removeEventListener("mousemove",P),h.removeEventListener("click",B),b=void 0})}C=0;var F,k,X=!0;e.layoutAnimation?e.wait!==0?(F=window.setTimeout,k=window.clearTimeout):(F=window.setImmediate,k=window.clearImmediate):(F=function(G){G()},k=function(){X=!1});var K=function(N,Z){t.forEach(function(rt){rt.addEventListener(N,Z)},this)},at=function(N,Z){t.forEach(function(rt){rt.removeEventListener(N,Z)},this)},j=function G(){at("wordcloudstart",G),k(Tt[n])};K("wordcloudstart",j),Tt[n]=(e.layoutAnimation?F:setTimeout)(function G(){if(X){if(C>=e.list.length){k(Tt[n]),lt("wordcloudstop",!1),at("wordcloudstart",j),delete Tt[n];return}E=new Date().getTime();var N=st(e.list[C],0),Z=!lt("wordclouddrawn",!0,{item:e.list[C],drawn:N});if(H()||Z){k(Tt[n]),e.abort(),lt("wordcloudabort",!1),lt("wordcloudstop",!1),at("wordcloudstart",j);return}C++,Tt[n]=F(G,e.wait)}},e.wait)}};At()};qt.isSupported=ue;qt.minFontSize=ie;if(!qt.isSupported)throw new Error("Sorry your browser not support wordCloud");function di(r){for(var t=r.getContext("2d"),a=t.getImageData(0,0,r.width,r.height),n=t.createImageData(a),e=0,o=0,s=0;s<a.data.length;s+=4){var i=a.data[s+3];if(i>128){var l=a.data[s]+a.data[s+1]+a.data[s+2];e+=l,++o}}for(var v=e/o,s=0;s<a.data.length;s+=4){var l=a.data[s]+a.data[s+1]+a.data[s+2],i=a.data[s+3];i<128||l>v?(n.data[s]=0,n.data[s+1]=0,n.data[s+2]=0,n.data[s+3]=0):(n.data[s]=255,n.data[s+1]=255,n.data[s+2]=255,n.data[s+3]=255)}t.putImageData(n,0,0)}Ue(function(r,t){r.eachSeriesByType("wordCloud",function(a){var n=sn(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),e=a.get("keepAspect"),o=a.get("maskImage"),s=o?o.width/o.height:1;e&&fi(n,s);var i=a.getData(),l=document.createElement("canvas");l.width=n.width,l.height=n.height;var v=l.getContext("2d");if(o)try{v.drawImage(o,0,0,l.width,l.height),di(l)}catch(g){console.error("Invalid mask image"),console.error(g.toString())}var d=a.get("sizeRange"),u=a.get("rotationRange"),f=i.getDataExtent("value"),c=Math.PI/180,m=a.get("gridSize");qt(l,{list:i.mapArray("value",function(g,E){var _=i.getItemModel(E);return[i.getName(E),_.get("textStyle.fontSize",!0)||vn(g,f,d),E]}).sort(function(g,E){return E[1]-g[1]}),fontFamily:a.get("textStyle.fontFamily")||a.get("emphasis.textStyle.fontFamily")||r.get("textStyle.fontFamily"),fontWeight:a.get("textStyle.fontWeight")||a.get("emphasis.textStyle.fontWeight")||r.get("textStyle.fontWeight"),gridSize:m,ellipticity:n.height/n.width,minRotation:u[0]*c,maxRotation:u[1]*c,clearCanvas:!o,rotateRatio:1,rotationStep:a.get("rotationStep")*c,drawOutOfBound:a.get("drawOutOfBound"),shrinkToFit:a.get("shrinkToFit"),layoutAnimation:a.get("layoutAnimation"),shuffle:!1,shape:a.get("shape")});function p(g){var E=g.detail.item;g.detail.drawn&&a.layoutInstance.ondraw&&(g.detail.drawn.gx+=n.x/m,g.detail.drawn.gy+=n.y/m,a.layoutInstance.ondraw(E[0],E[1],E[2],g.detail.drawn))}l.addEventListener("wordclouddrawn",p),a.layoutInstance&&a.layoutInstance.dispose(),a.layoutInstance={ondraw:null,dispose:function(){l.removeEventListener("wordclouddrawn",p),l.addEventListener("wordclouddrawn",function(g){g.preventDefault()})}}})});He(function(r){var t=(r||{}).series;!bt(t)&&(t=t?[t]:[]);var a=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];Y(t,function(e){if(e&&e.type==="wordCloud"){var o=e.textStyle||{};n(o.normal),n(o.emphasis)}});function n(e){e&&Y(a,function(o){e.hasOwnProperty(o)&&(e["text"+on(o)]=e[o])})}});function fi(r,t){var a=r.width,n=r.height;a>n*t?(r.x+=(a-n*t)/2,r.width=n*t):(r.y+=(n-a/t)/2,r.height=a/t)}export{pi as E};
